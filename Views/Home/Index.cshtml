@if (Model == null)
{
    <p>No cars available.</p>
}
else
{
    <div class="container-fluid">
        <div class="row">
            <form asp-controller="Cars" asp-action="TopFour" method="get" class="form-inline mb-3">
                <div class="form-group">
                    <input type="text" name="searchString" class="form-control" placeholder="Search by Make or Model" value="@ViewData["CurrentFilter"]" />
                </div>
                <input type="submit" value="Search" class="btn btn-primary ml-2" />
            </form>
            @foreach (var item in Model)
            {
                @if (item.CarAdvertisementState == 0)
                {
                    <div class="col-md-4 mb-4">
                        <div class="card h-100">
                            @if (!string.IsNullOrEmpty(item.CarImage))
                            {
                                <img src="@item.CarImage" class="card-img-top" alt="Car Image" />
                            }
                            else
                            {
                                <img src="/images/placeholder.png" class="card-img-top" alt="Placeholder Image" />
                            }
                            <div class="card-body w-100">

                                <h3 class="card-text"><strong>R</strong> @item.CarPrice</h3>
                                <h5 class="card-title"> @item.CarYear @item.CarMake  @item.CarModel</h5>
                                <p class="card-text"><strong>Colour:</strong> @item.CarColour</p>
                                <p class="card-text"><strong>State:</strong> @item.CarState</p>
                                <p class="card-text"><strong>Extras:</strong> @item.CarExtras</p>
                                <a asp-controller="Cars" asp-action="MoreInfo" asp-route-id="@item.CarId" class="btn btn-info btn-sm ">Find out more</a>
                            </div>
                        </div>
                    </div>
                }

            }
        </div>
   </div>

}
